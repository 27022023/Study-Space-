<!DOCTYPE html>
<html lang="en">
<head>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="stylesheet" href="style.css">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ffffff">
  <title>Problem Solver</title>

    <style>
        :root {
            --pink: #FCE7F3;
            --lavender: #EDE7FF;
            --mint: #DFFCF0;
            --blue: #E3F2FD;
            --peach: #FFEFE2;
            --text: #3A3A3A;
            --white: #FFFFFF;
        }

        body {
            margin: 0;
            font-family: "Poppins", sans-serif;
            background: linear-gradient(135deg, var(--pink), var(--lavender), var(--mint), var(--blue), var(--peach));
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
            color: var(--text);
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* MENU BUTTON */
        #menu-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: var(--white);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: none;
            font-size: 16px;
            cursor: pointer;
            z-index: 1000;
            transition: transform 0.2s ease;
        }

        #menu-btn:hover {
            transform: scale(1.05);
        }

        /* SIDEBAR */
        #sidebar {
            position: fixed;
            top: 0;
            left: -260px;
            width: 260px;
            height: 100%;
            background: var(--white);
            box-shadow: 4px 0 12px rgba(0,0,0,0.1);
            padding: 30px 20px;
            transition: left 0.3s ease;
            z-index: 999;
        }

        #sidebar.open {
            left: 0;
        }

        #sidebar h2 {
            margin-top: 0;
            font-size: 22px;
            color: var(--text);
        }

        #sidebar a {
            display: block;
            margin: 15px 0;
            text-decoration: none;
            color: var(--text);
            font-size: 18px;
            padding: 8px 10px;
            border-radius: 8px;
            transition: background 0.2s ease;
        }

        #sidebar a:hover {
            background: var(--lavender);
        }

        /* PAGE CONTENT */
        .container {
            max-width: 900px;
            margin: 120px auto 60px;
            background: var(--white);
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        h1 {
            margin-top: 0;
            font-size: 28px;
        }

        h2 {
            margin-top: 30px;
            font-size: 24px;
        }

        .section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 22px;
            margin-bottom: 10px;
        }

        .sub-label {
            font-size: 16px;
            margin-bottom: 6px;
        }

        input[type="text"] {
            width: 100%;
            padding: 14px;
            border-radius: 10px;
            border: 1px solid #ccc;
            font-size: 20px;
            margin-bottom: 12px;
            box-sizing: border-box;
        }

        .btn-main {
            padding: 12px 20px;
            border-radius: 10px;
            border: none;
            background: var(--lavender);
            font-size: 18px;
            cursor: pointer;
            margin-top: 4px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .btn-main:hover {
            transform: translateY(-1px);
            box-shadow: 0 3px 8px rgba(0,0,0,0.12);
        }

        .result-box {
            margin-top: 12px;
            padding: 14px;
            border-radius: 10px;
            background: var(--mint);
            font-size: 18px;
            min-height: 40px;
        }

        .steps-box {
            margin-top: 10px;
            padding: 12px;
            border-radius: 10px;
            background: var(--blue);
            font-size: 16px;
        }

        /* CALCULATOR */
        .calc-wrapper {
            margin-top: 20px;
        }

        #calcInput {
            width: 100%;
            padding: 14px;
            border-radius: 10px;
            border: 1px solid #ccc;
            font-size: 20px;
            margin-bottom: 12px;
            box-sizing: border-box;
        }

        #calcResult {
            background: var(--mint);
            padding: 14px;
            border-radius: 10px;
            font-size: 18px;
            margin-bottom: 18px;
            min-height: 40px;
        }

        .calculator {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }

        .btn {
            padding: 18px;
            background: var(--lavender);
            border: none;
            border-radius: 12px;
            font-size: 18px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 3px 8px rgba(0,0,0,0.12);
        }

        .equal {
            background: var(--mint);
        }

        .clear {
            background: #ffb3b3;
        }

        /* FORMULA BOOK */
        .formula-book {
            margin-top: 30px;
        }

        .formula-title {
            font-size: 22px;
            margin-bottom: 10px;
        }

        .tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 16px;
        }

        .tab-btn {
            padding: 10px 16px;
            border-radius: 999px;
            border: none;
            font-size: 16px;
            cursor: pointer;
            background: var(--lavender);
            color: var(--text);
            transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease;
            opacity: 0.8;
        }

        .tab-btn.algebra { background: var(--lavender); }
        .tab-btn.geometry { background: var(--mint); }
        .tab-btn.physics { background: var(--blue); }
        .tab-btn.chemistry { background: var(--peach); }

        .tab-btn.active {
            opacity: 1;
            box-shadow: 0 3px 8px rgba(0,0,0,0.15);
            transform: translateY(-1px);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        details.formula-box {
            background: var(--lavender);
            border-radius: 12px;
            padding: 10px 14px;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .tab-content.geometry details.formula-box {
            background: var(--mint);
        }

        .tab-content.physics details.formula-box {
            background: var(--blue);
        }

        .tab-content.chemistry details.formula-box {
            background: var(--peach);
        }

        details.formula-box summary {
            cursor: pointer;
            font-weight: 600;
            outline: none;
        }

        details.formula-box p {
            margin: 6px 0 0;
        }

        code {
            font-family: "Fira Code", monospace;
        }

        @media (max-width: 600px) {
            .container {
                margin: 100px 12px 40px;
                padding: 20px;
            }
        }
    </style>
</head>

<body>

    <!-- MENU BUTTON -->
    <button id="menu-btn">Menu</button>

    <!-- SIDEBAR -->
    <div id="sidebar">
        <h2>Study Sphere</h2>
        <a href="index.html">Home</a>
        <a href="flashcards.html">Flashcards</a>
        <a href="translate.html">Language Learning</a>
        <a href="notebook.html">Notebook</a>
        <a href="chatbot.html">Chatbot</a>
        <a href="solver.html">Problem Solver</a>
        <a href="whiteboard.html">Whiteboard</a>
        <a href="lab.html">Microscope Lab</a>
        <a href="todo.html">To-Do List</a>
        <a href="weekly.html">Weekly Planner</a>
        <a href="relax.html">Relax</a>
    </div>

    <!-- MAIN CONTENT -->
    <div class="container">
        <h1>Problem Solver</h1>

        <!-- TOP: SYSTEM + EQUATION SOLVER -->
        <div class="section">
            <div class="section-title">System of Equations (x, y)</div>
            <div class="sub-label">Equation 1 (e.g. <code>2x+3y=7</code>)</div>
            <input type="text" id="sysEq1" placeholder="2x+3y=7">
            <div class="sub-label">Equation 2 (e.g. <code>x-y=1</code>)</div>
            <input type="text" id="sysEq2" placeholder="x-y=1">
            <button class="btn-main" onclick="solveSystem()">Solve System</button>
            <div id="sysResult" class="result-box">System result will appear here</div>
        </div>

        <div class="section">
            <div class="section-title">Single Equation Solver (in x)</div>
            <div class="sub-label">Example: <code>2x+4=10</code> or <code>x^2-5x+6=0</code></div>
            <input type="text" id="eqInput" placeholder="Type an equation in x...">
            <button class="btn-main" onclick="solveSingleEquation()">Solve Equation</button>
            <div id="eqResult" class="result-box">Equation result will appear here</div>
            <div id="eqSteps" class="steps-box">Steps will appear here</div>
        </div>

        <!-- MIDDLE: CALCULATOR -->
        <div class="section calc-wrapper">
            <div class="section-title">Calculator</div>
            <input id="calcInput" placeholder="Type a math expression...">
            <div id="calcResult">Result will appear here</div>

            <div class="calculator">
                <button class="btn" onclick="pressCalc('7')">7</button>
                <button class="btn" onclick="pressCalc('8')">8</button>
                <button class="btn" onclick="pressCalc('9')">9</button>
                <button class="btn" onclick="pressCalc('/')">÷</button>

                <button class="btn" onclick="pressCalc('4')">4</button>
                <button class="btn" onclick="pressCalc('5')">5</button>
                <button class="btn" onclick="pressCalc('6')">6</button>
                <button class="btn" onclick="pressCalc('*')">×</button>

                <button class="btn" onclick="pressCalc('1')">1</button>
                <button class="btn" onclick="pressCalc('2')">2</button>
                <button class="btn" onclick="pressCalc('3')">3</button>
                <button class="btn" onclick="pressCalc('-')">−</button>

                <button class="btn" onclick="pressCalc('0')">0</button>
                <button class="btn" onclick="pressCalc('.')">.</button>
                <button class="btn clear" onclick="clearCalc()">C</button>
                <button class="btn" onclick="pressCalc('+')">+</button>

                <button class="btn equal" style="grid-column: span 4;" onclick="solveCalc()">Solve</button>
            </div>
        </div>

        <!-- BOTTOM: FORMULA BOOK -->
        <div class="section formula-book">
            <div class="formula-title">Formula Book</div>
            <p style="margin-top:0;font-size:14px;">Choose a subject, then open the boxes to see key formulas.</p>

            <div class="tabs">
                <button class="tab-btn algebra" data-tab="algebra">Algebra</button>
                <button class="tab-btn geometry" data-tab="geometry">Geometry</button>
                <button class="tab-btn physics" data-tab="physics">Physics</button>
                <button class="tab-btn chemistry" data-tab="chemistry">Chemistry</button>
            </div>

            <!-- Algebra -->
            <div id="tab-algebra" class="tab-content algebra">
                <details class="formula-box">
                    <summary>Quadratic Equations</summary>
                    <p>General form: <code>ax² + bx + c = 0</code></p>
                    <p>Discriminant: <code>D = b² − 4ac</code></p>
                    <p>Roots: <code>x = (-b ± √D) / (2a)</code></p>
                </details>

                <details class="formula-box">
                    <summary>Factorization Patterns</summary>
                    <p><code>(a + b)² = a² + 2ab + b²</code></p>
                    <p><code>(a - b)² = a² - 2ab + b²</code></p>
                    <p><code>a² - b² = (a - b)(a + b)</code></p>
                </details>

                <details class="formula-box">
                    <summary>Powers & Exponents</summary>
                    <p><code>a^m · a^n = a^(m+n)</code></p>
                    <p><code>a^m / a^n = a^(m-n)</code> (a ≠ 0)</p>
                    <p><code>(a^m)^n = a^(m·n)</code></p>
                </details>

                <details class="formula-box">
                    <summary>Logarithms</summary>
                    <p><code>log_a(1) = 0</code>, <code>log_a(a) = 1</code></p>
                    <p><code>log_a(xy) = log_a(x) + log_a(y)</code></p>
                    <p><code>log_a(x/y) = log_a(x) - log_a(y)</code></p>
                    <p><code>log_a(x^k) = k·log_a(x)</code></p>
                    <p>Change of base: <code>log_a(x) = log_b(x) / log_b(a)</code></p>
                </details>

                <details class="formula-box">
                    <summary>Sequences</summary>
                    <p>Arithmetic sequence: <code>a_n = a_1 + (n-1)d</code></p>
                    <p>Sum of first n terms: <code>S_n = n(a_1 + a_n)/2</code></p>
                    <p>Geometric sequence: <code>a_n = a_1·r^(n-1)</code></p>
                    <p>Sum (r ≠ 1): <code>S_n = a_1(1-r^n)/(1-r)</code></p>
                </details>
            </div>

            <!-- Geometry -->
            <div id="tab-geometry" class="tab-content geometry">
                <details class="formula-box">
                    <summary>Triangles</summary>
                    <p>Area: <code>A = (1/2)·b·h</code></p>
                    <p>Heron's formula: <code>A = √[s(s-a)(s-b)(s-c)]</code>, <code>s = (a+b+c)/2</code></p>
                    <p>Sum of interior angles: <code>180°</code></p>
                </details>

                <details class="formula-box">
                    <summary>Circles</summary>
                    <p>Circumference: <code>C = 2πr</code></p>
                    <p>Area: <code>A = πr²</code></p>
                    <p>Arc length (central angle θ in radians): <code>L = rθ</code></p>
                </details>

                <details class="formula-box">
                    <summary>Quadrilaterals</summary>
                    <p>Rectangle area: <code>A = l·w</code></p>
                    <p>Square area: <code>A = a²</code></p>
                    <p>Parallelogram area: <code>A = b·h</code></p>
                    <p>Trapezoid area: <code>A = (1/2)(b₁ + b₂)h</code></p>
                </details>

                <details class="formula-box">
                    <summary>Pythagorean Theorem</summary>
                    <p>Right triangle: <code>a² + b² = c²</code> (c is hypotenuse)</p>
                </details>

                <details class="formula-box">
                    <summary>Coordinate Geometry</summary>
                    <p>Distance: <code>d = √[(x₂ - x₁)² + (y₂ - y₁)²]</code></p>
                    <p>Midpoint: <code>M = ((x₁ + x₂)/2, (y₁ + y₂)/2)</code></p>
                    <p>Slope: <code>m = (y₂ - y₁)/(x₂ - x₁)</code></p>
                </details>
            </div>

            <!-- Physics -->
            <div id="tab-physics" class="tab-content physics">
                <details class="formula-box">
                    <summary>Kinematics (1D motion)</summary>
                    <p><code>v = v₀ + at</code></p>
                    <p><code>s = v₀t + (1/2)at²</code></p>
                    <p><code>v² = v₀² + 2as</code></p>
                </details>

                <details class="formula-box">
                    <summary>Forces & Newton's Laws</summary>
                    <p><code>F = m·a</code></p>
                    <p>Weight: <code>W = m·g</code></p>
                    <p>Friction (simple model): <code>F_f = μ·N</code></p>
                </details>

                <details class="formula-box">
                    <summary>Work, Energy, Power</summary>
                    <p>Work: <code>W = F·s·cosθ</code></p>
                    <p>Kinetic energy: <code>E_k = (1/2)mv²</code></p>
                    <p>Potential energy (near Earth): <code>E_p = mgh</code></p>
                    <p>Power: <code>P = W/t</code></p>
                </details>

                <details class="formula-box">
                    <summary>Momentum & Collisions</summary>
                    <p>Momentum: <code>p = m·v</code></p>
                    <p>Impulse: <code>J = F·Δt = Δp</code></p>
                    <p>Isolated system: total momentum is conserved.</p>
                </details>

                <details class="formula-box">
                    <summary>Electricity</summary>
                    <p>Ohm's law: <code>V = I·R</code></p>
                    <p>Power: <code>P = V·I = I²R = V²/R</code></p>
                    <p>Series resistors: <code>R_eq = R₁ + R₂ + ...</code></p>
                    <p>Parallel resistors: <code>1/R_eq = 1/R₁ + 1/R₂ + ...</code></p>
                </details>
            </div>

            <!-- Chemistry -->
            <div id="tab-chemistry" class="tab-content chemistry">
                <details class="formula-box">
                    <summary>Moles & Molar Mass</summary>
                    <p><code>n = m / M</code> (moles = mass / molar mass)</p>
                    <p>Number of particles: <code>N = n·N_A</code></p>
                </details>

                <details class="formula-box">
                    <summary>Gas Laws</summary>
                    <p>Ideal gas law: <code>pV = nRT</code></p>
                    <p>Boyle's law (T constant): <code>p₁V₁ = p₂V₂</code></p>
                    <p>Charles' law (p constant): <code>V₁/T₁ = V₂/T₂</code></p>
                </details>

                <details class="formula-box">
                    <summary>Solutions & Concentration</summary>
                    <p>Molarity: <code>M = n / V</code> (mol/L)</p>
                    <p>Mass percent: <code>%m = (m_solute / m_solution)·100%</code></p>
                    <p>Dilution: <code>C₁V₁ = C₂V₂</code></p>
                </details>

                <details class="formula-box">
                    <summary>Acids & Bases</summary>
                    <p><code>pH = -log[H⁺]</code></p>
                    <p><code>pOH = -log[OH⁻]</code></p>
                    <p><code>pH + pOH = 14</code> (at 25°C)</p>
                </details>
            </div>
        </div>
    </div>

    <script>
        // Sidebar
        const menuBtn = document.getElementById("menu-btn");
        const sidebar = document.getElementById("sidebar");
        menuBtn.addEventListener("click", () => {
            sidebar.classList.toggle("open");
        });

// ---------- SYSTEM OF EQUATIONS (x, y) ----------
function parseTwoVarEquation(eq) {
    // Expect something like "2x+3y=7" or "x-y=1"
    let [left, right] = eq.split("=");
    if (right === undefined) throw new Error("Equation must contain =");
    right = parseFloat(right.replace(",", "."));
    if (isNaN(right)) throw new Error("Right side must be a number");

    left = left.replace(/\s+/g, "");
    left = left.replace(/-/g, "+-");
    const parts = left.split("+").filter(p => p);

    let ax = 0, by = 0, c = 0;

    for (let term of parts) {
        if (term.includes("x")) {
            let coeff = term.replace("x", "");
            if (coeff === "" || coeff === "+") coeff = 1;
            else if (coeff === "-") coeff = -1;
            else coeff = parseFloat(coeff.replace(",", "."));
            if (isNaN(coeff)) throw new Error("Invalid x term");
            ax += coeff;

        } else if (term.includes("y")) {
            let coeff = term.replace("y", "");
            if (coeff === "" || coeff === "+") coeff = 1;
            else if (coeff === "-") coeff = -1;
            else coeff = parseFloat(coeff.replace(",", "."));
            if (isNaN(coeff)) throw new Error("Invalid y term");
            by += coeff;

        } else {
            let val = parseFloat(term.replace(",", "."));
            if (isNaN(val)) throw new Error("Invalid constant term");
            c += val;
        }
    }

    // Move constants to right side: ax + by + c = right -> ax + by = right - c
    const newC = right - c;
    return { a: ax, b: by, c: newC };
}

function solveSystem() {
    const eq1 = document.getElementById("sysEq1").value;
    const eq2 = document.getElementById("sysEq2").value;
    const out = document.getElementById("sysResult");

    if (!eq1 || !eq2) {
        out.innerText = "Please enter both equations.";
        return;
    }

    try {
        const e1 = parseTwoVarEquation(eq1);
        const e2 = parseTwoVarEquation(eq2);

        const det = e1.a * e2.b - e2.a * e1.b;

        if (Math.abs(det) < 1e-10) {
            out.innerText = "No unique solution (determinant is zero).";
            return;
        }

        const x = (e1.c * e2.b - e2.c * e1.b) / det;
        const y = (e1.a * e2.c - e2.a * e1.c) / det;

        out.innerText = `x = ${x.toFixed(3)},  y = ${y.toFixed(3)}`;
    } catch (err) {
        out.innerText = "Could not parse the system. Use forms like 2x+3y=7 and x-y=1.";
    }
}
   // ---------- SINGLE EQUATION SOLVER (in x) ----------
function parseLinearOneVar(eq) {
    // ax + b = c
    let [left, right] = eq.split("=");
    if (right === undefined) throw new Error("Equation must contain =");
    right = parseFloat(right.replace(",", "."));
    if (isNaN(right)) throw new Error("Right side must be a number");

    left = left.replace(/\s+/g, "");
    left = left.replace(/-/g, "+-");
    const parts = left.split("+").filter(p => p);

    let ax = 0, c = 0;

    for (let term of parts) {
        if (term.includes("x")) {
            let coeff = term.replace("x", "");
            if (coeff === "" || coeff === "+") coeff = 1;
            else if (coeff === "-") coeff = -1;
            else coeff = parseFloat(coeff.replace(",", "."));
            if (isNaN(coeff)) throw new Error("Invalid x term");
            ax += coeff;
        } else {
            let val = parseFloat(term.replace(",", "."));
            if (isNaN(val)) throw new Error("Invalid constant term");
            c += val;
        }
    }

    // ax + c = right -> ax = right - c
    const newRight = right - c;
    return { a: ax, rhs: newRight };
}

function parseQuadratic(eq) {
    // Try to bring to ax^2+bx+c=0 form
    let [left, right] = eq.split("=");
    if (right === undefined) right = "0";
    left = left.replace(/\s+/g, "");
    right = right.replace(/\s+/g, "");

    // Move everything to left: left - right = 0
    const full = left + "-(" + right + ")";
    // Replace x^2 with X2, x with X1 to help regex
    let expr = full.replace(/x\^2/g, "X2").replace(/x/g, "X1");

    // Evaluate expression at x=0,1,-1 to extract coefficients
    function evalExpr(xVal) {
        let e = expr.replace(/X2/g, "(" + xVal + " * " + xVal + ")")
                   .replace(/X1/g, "(" + xVal + ")");
        return eval(e);
    }

    const f0 = evalExpr(0);
    const f1 = evalExpr(1);
    const f_1 = evalExpr(-1);

    // For ax^2+bx+c:
    // f(0)=c
    // f(1)=a+b+c
    // f(-1)=a-b+c
    const c = f0;
    const a = (f1 + f_1 - 2 * c) / 2;
    const b = f1 - a - c;

    return { a, b, c };
}

function solveSingleEquation() {
    const eq = document.getElementById("eqInput").value;
    const res = document.getElementById("eqResult");
    const steps = document.getElementById("eqSteps");

    if (!eq) {
        res.innerText = "Please type an equation.";
        steps.innerText = "Steps will appear here.";
        return;
    }

    try {
        if (eq.includes("x^2")) {
            // Quadratic
            const { a, b, c } = parseQuadratic(eq);
            if (Math.abs(a) < 1e-12) {
                res.innerText = "This does not look like a quadratic (a ≈ 0).";
                steps.innerText = "Check that the equation really has x².";
                return;
            }
            const D = b * b - 4 * a * c;
            if (D < 0) {
                res.innerText = "No real solutions (D < 0).";
                steps.innerText = `a = ${a.toFixed(3)}, b = ${b.toFixed(3)}, c = ${c.toFixed(3)}, D = ${D.toFixed(3)} < 0.`;
                return;
            }
            const x1 = (-b + Math.sqrt(D)) / (2 * a);
            const x2 = (-b - Math.sqrt(D)) / (2 * a);
            res.innerText = `x₁ = ${x1.toFixed(3)},  x₂ = ${x2.toFixed(3)}`;
            steps.innerText =
                `1. Bring equation to form ax² + bx + c = 0.\n` +
                `2. a = ${a.toFixed(3)}, b = ${b.toFixed(3)}, c = ${c.toFixed(3)}.\n` +
                `3. Discriminant: D = b² - 4ac = ${D.toFixed(3)}.\n` +
                `4. x = (-b ± √D) / (2a).\n` +
                `5. x₁ = ${x1.toFixed(3)}, x₂ = ${x2.toFixed(3)}.`;

        } else if (eq.includes("x")) {
            // Linear
            const { a, rhs } = parseLinearOneVar(eq);
            if (Math.abs(a) < 1e-12) {
                res.innerText = "No unique solution (coefficient of x is zero).";
                steps.innerText = "Check that x actually appears with a non-zero coefficient.";
                return;
            }
            const x = rhs / a;
            res.innerText = `x = ${x.toFixed(3)}`;
            steps.innerText =
                `1. Collect all x-terms and constants on the left side.\n` +
                `2. You get an equation of the form ax + b = c.\n` +
                `3. Move constants to the right: ax = c - b.\n` +
                `4. Here a = ${a.toFixed(3)}, right side = ${rhs.toFixed(3)}.\n` +
                `5. Divide both sides by a: x = right / a = ${x.toFixed(3)}.`;

        } else {
            res.innerText = "Please include x in the equation (e.g. 2x+4=10 or x^2-5x+6=0).";
            steps.innerText = "This solver is for equations in x. For pure numbers, use the calculator above.";
        }
    } catch (err) {
        res.innerText = "Could not parse the equation.";
        steps.innerText = "Try a simpler form like 2x+4=10 or x^2-5x+6=0.";
    }
}
// ---------- CALCULATOR ----------
function pressCalc(val) {
    document.getElementById("calcInput").value += val;
}

function clearCalc() {
    document.getElementById("calcInput").value = "";
    document.getElementById("calcResult").innerText = "Result will appear here";
}

function solveCalc() {
    let input = document.getElementById("calcInput").value;
    const out = document.getElementById("calcResult");

    if (!input) {
        out.innerText = "Please type an expression.";
        return;
    }

    try {
        const answer = eval(input);
        out.innerText = "Answer: " + answer;
    } catch {
        out.innerText = "Invalid expression.";
    }
}
// ---------- FORMULA BOOK TABS ----------
const tabButtons = document.querySelectorAll(".tab-btn");
const tabContents = {
    algebra: document.getElementById("tab-algebra"),
    geometry: document.getElementById("tab-geometry"),
    physics: document.getElementById("tab-physics"),
    chemistry: document.getElementById("tab-chemistry")
};

tabButtons.forEach(btn => {
    btn.addEventListener("click", () => {
        const tab = btn.getAttribute("data-tab");

        // If already active → clicking again closes it
        if (btn.classList.contains("active")) {
            btn.classList.remove("active");
            Object.values(tabContents).forEach(c => c.classList.remove("active"));
            return;
        }

        // Otherwise activate this tab and deactivate others
        tabButtons.forEach(b => b.classList.remove("active"));
        Object.values(tabContents).forEach(c => c.classList.remove("active"));

        btn.classList.add("active");
        const content = tabContents[tab];
        if (content) content.classList.add("active");
    });
});
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}
    </script>
    ...
    <!-- all your HTML sections -->

    <script>
        // sidebar code

        // system of equations code

        // single equation solver code

        // calculator code

        // formula book tabs code
    </script>

</body>
</html>

</body>
</html>
